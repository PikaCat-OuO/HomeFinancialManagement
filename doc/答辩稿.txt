我设计的是基于DOS界面的家庭财务管理系统

这是我这次展示的大纲，首先介绍题目，然后简单介绍一下我的设计思路，再带大家查看一下UML类图，然后简单简述一下系统的设计过程，讲述完成之后将会放一个视频来展示该系统的功能，最后我来总结一下系统的优点和可以改进的地方。

首先是题目介绍部分，相信大家都已经看过了题目，这里我就简单带过一下，说一下我看到的重点，这是题目的目的，收支管理是一个家庭日常生活中不可缺少一部分，那这个系统主要就是实现家庭财务信息的自动化。

这是系统的主要功能，这里只能选一个人做为管理员，所以系统的管理员只有一个，然后普通用户只能查看自己的收支信息，所以系统需要权限机制。其次收支项目要求分两层，而且任何一层都可以作为收支记账项目。

这是系统大概的功能图

好接下来是系统设计思路部分。本系统设计满足题目要求，根据题目要求中的“可以选一名家庭成员做管理员，普通用户只能查看自己的收支信息”，本系统设计成有且仅有一名系统管理员。本系统设计遵循分工明确的原则，每个类都有明确的分工。根据系统功能表中的表项精简提炼后，决定制作9个类，其中有3个强枚举类型类，有3个小类，3个大类。3个强枚举类型类分别用来表示用户权限，性别和当前用户所处界面状态。3个小类分别用来表示一级二级收支项目，成员个人信息和成员收支信息。3个大类分别掌管成员数据存储，成员数据管理和成员数据显示的功能。项目设计基本遵循MVC泛型，成员数据存储大类属于Model模型，成员数据管理大类属于Control控制，成员数据显示大类属于View显示。具体UI部分根据功能划分为成员管理，密码服务和收支管理三大块。成员管理部分设置有基本的增删改查和管理员权限转让的选项。密码服务部分有查看密码和修改密码两个选项。收支管理部分有一二级收支项目的增删改查和成员收支信息的增删改查。三个小类和三个强枚举类在三个大类中发挥各自的作用，而三个大类又通过函数调用和组合的方式进行相互影响，相互作用而实现相关的功能，从而构成整个完整的系统。 


接下来带大家大概看一下UML类图，屏幕上的这些类图都是使用VS2019自动生成的。另外，由于每个类里面的函数都过多，在时间上考虑，在此不做讲解，有兴趣的话可以查看对应的实验报告，里面有每个类每个函数的详细介绍。

这是三个强枚举类型，分别是Permission操作权限枚举类，Type当前用户所处状态类和Sex性别枚举类

这是三个小类，分别是FinancialItem个人单条收支信息类，PersonalInfo成员个人信息类和Item一二级收支项目类

这是三个大类其中的两个，Member存储一个成员所有内容的类，Machine UI界面静态类

这是三个大类中的最后一个，MemberManager静态成员管理类

首先看一下，Sex类，该类是性别枚举类型，类内包含male和female两个类型用于表示男女两种性别类型。该类将在PersonalInfo类中被使用，该类的对象会作为PersonalInfo类的私有成员，表示成员个人信息中的性别。

Permission类，该类是操作权限枚举类型，类内包含root和user两个类型用于表示管理员和普通用户两种身份类型。该类将在Member类中被使用，该类的对象会作为Member类的私有成员，表示该成员的操作权限。

Type类，该类是当前用户所处状态的枚举类型，类内包含start，top，bye三个类型用于表示程序开始执行，用户已登陆和程序结束三种状态。

Item类，该类是一二级收支项目类，该类将在MemberManager类中被使用，作为mFinancialItems的模板参数，表示一个一二级收支项目。

FinancialItem类，该类是个人单条收支信息类，用于表示一条完整的收支信息，该类将在Member类中被使用。

PersonalInfo类，该类是成员个人信息类，用于存储一个家庭成员的完整个人信息。该类将在Member类中被使用，该类的对象会作为Member类的私有成员，表示该成员的个人信息。

Member类，该类是存储一个成员所有内容的大类、关键类。成员的个人信息，操作权限，登陆密码，所有收支信息均存储在该类中，该类将在MemberManager类中被使用，作为mFinancialItems的模板参数，表示一个家庭成员。在该类中存储个人信息，成员收支信息并提供获取和修改的接口，因为每个人都有各自的个人信息和收支信息，所以设计成普通类。

MemberManager静态类，该类是静态成员管理类，主要用于管理一二级收支项目和所有的家庭成员。该类为什么设计为静态类在“系统设计思路”部分已经呈现，这里不再赘述。该类主要与Machine类构成联系，形成整个完整的系统。在该类中存放所有家庭成员，一级二级收支项目，并提供相关的管理函数接口以便进行管理，将所有家庭成员数据和其收支信息以及一级二级收支项目输出到文件和相关信息从文件的读入和初始化都是在此类内完成，因为数据管理是统一的，应该达到简单的目的，不用生成相应的对象就能使用其中提供的接口，故设计为静态类。

Machine静态类，该类是UI界面类，主要负责UI界面的显示，用户操作的读取与执行等。该类主要负责UI界面的显示，以及读取用户从键盘中输入的操作而去调用数据成员管理大类的方法来执行相关的操作，权限检查也是在此类中完成，当用户选择了某个管理员所属操作时需要先检查其是否是管理员然后才执行成员数据管理大类中的相关的函数，因为UI界面的显示也不应该需要对象才能进行显示，为了简单易用起见也设计为静态类，可以直接调用其中的函数。

关于项目的介绍就到这里，下面播放程序功能演示的视频。

好，接下来说一下该系统的优点，1、该系统涵盖了比较丰富的功能，基本上能满足家庭收支管理的日常需求。2、有比较人性化的UI设计，在每一步怎么操作也有相关的引导信息。3、使用了multimap结构，由于其底层是红黑树的结构，所以在收支信息的查找上会比较快，以高效率的存储结构来节省查找时间，减少用户的等待时间，给用户最好的产品体验。4、“返回”的设置很多，基本能够在任何时间返回上一层菜单或上一个操作，只要用户后悔了，随时都可以返回，用户的操作空间很大。

再来讨论一下系统可以改进的地方，1、由于本系统使用的是DOS设计，所以界面给人的感觉还是不够完美，如果可以使用MFC的话用户体验就可以更上一层楼了。2、家庭成员的文件保存不能自己指定，只能由程序员指定，对用户来说不太友好，如果使用MFC的话，可以弹出对话框让用户选择去读入哪个文件，写出到哪个文件，这样用户就可以获得更大的控制权，可以将家庭成员的文件保存到任何地方，这样就可以通过多文件来实现一个大家庭下多个小家庭的管理了。3、密码直接保存在文件中，比较容易被他人查看和修改而登录进入系统，如果考虑安全性可以使用加密算法加密一下密码，但是考虑到过于复杂，故没有这样处理。

那，我对于项目的介绍就到这里，谢谢。